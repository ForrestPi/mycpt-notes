1. read request
2. decode request
3. process service
4. encode reply
5. send reply
