cpu 的寄存器是非常稀缺的资源.


### cpu 的thread调度

cpu 通过寄存器重命名和上下文切换, 来调度和执行不同的 thread. 

上下文开销在哪里
1. 要切出去的 thread 的保存现场.
2. 将要调度的 thread 的现场恢复.

这个过程需要寄存器于主存储器之间的数据通信, 需要耗费几百个 cpu 指令周期.

----

### gpu的 thread 调度

- 与 cpu 很不相同的地方, GPU 的寄存器的数目非常多, 有几千个. 
- 因为寄存器资源丰富, 所以 gpu 为每个硬件 thread 分配物理的寄存器.
- thread 的切换, 只需要修改一下指向需要调度的寄存器的起始地址,这个过程需要几个指令周期, 跟cpu 的调度相比,这个过程可以说是零开销.
