## 为科学家服务的fortran
- fortran是为科学家服务的.
- 在数学上, 向量默认为列向量
- 所以, 如果从科学家的角度来考虑, 按列优先存储, 天经地义. 以为如果我要读取一个列向量, 直接连续读取就可以, 很方便.

---

`内存中是没有行列的概念的`, 不管是二维数组,还是N维的tensor,在内存中都是一条线.

在这个物理存储的层面上, Fortran和C是没有区别的.

`下面表示 [1,2,3,4,5,6,7,8]`

![image](https://github.com/qiaohaijun/mycpt-notes/blob/master/img/blas/fortran%E8%A1%8C%E5%88%97%E5%AD%98%E5%82%A8.gif?raw=true)


他们对应内存中的地址，可能为 0x0041F100 , 0x0041F104 , 0x0041F108 ...... 一直到 0x0041F11C。这些地址是采用十六进制表述的，且只是假设，真实的地址会与他们类似。由于绝大多数 32 位编译器的整数和浮点数，都占有 4 个字节，因此，这些地址之间各相差 4 字节。（如无法理解本段落，问题也不大）


高级语言通常不会直接访问内存地址，所以 Fortran 和 C 使用数组来“命名”这些内存地址，并且通过数组+下标来访问这些内存地址。

如果把这一段内存地址视为 8 元素的一维数组，Fortran 和 C 的规则差别不大，Fortran 默认以 1 开头，而 C 则以 0 开头。


如果把这一段内存地址视为 2*4 元素的二维数组，则 Fortran 和 C 还有另一个差异:

Fortran 会先变化前面的维度，即顺序为 a(1,1) , a(2,1) .... 前面的 1 先变化为 2，后面维度始终保持为 1。直到循环完毕后，再将后面的维度加一，即 a(1,2) , a(2,2).....



---



## 参考
- https://www.zhihu.com/question/21766240
- http://fcode.cn/guide-45-1.html

