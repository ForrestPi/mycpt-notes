作者：常溪玲
链接：https://www.zhihu.com/question/19779887/answer/13037407
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

效率的高低不在于语言提供了什么特性或者你用了语言的什么特性，而在于你多做了多少不必要的事情，不必要的事情做得越多，效率就越低。
当一门语言提供了一些特性让你可以非常容易和无痛地做不必要的事情的时候，程序员让语言做不必要事情的几率就会大大增加，因此语言的效率就会降低。

C++ 给程序员提供了很多便利，自然也会导致程序员能够更容易地引入不必要的操作。
但是，如果这些特性同时也能让你非常容易和无痛地做有用和必要的事情，那部分的效率损失显然也是值得的。

仔细看一下 std::sort 的实现就知道，通过这样极其复杂而精致的实现来尽一切可能提高执行效率，
如果没有在标准库里提供，程序员想要自己在 C 语言里手写写到比它高效，那几乎是不可能做到的事情。

由于语言本身不提供高级的支持而造成程序员回避使用一些高效算法，最终导致整体效率下降这也是不能不考虑的一个因素。
总体而言，C++ 运行效率比 C 略低，低的程度视具体问题和程序员自身水平的不同而不同。

现实生活中不可能有足够巨大的工程让水平相当的程序员用 C 和 C++ 各写一遍然后比较效率，
因此所有效率比较都是针对一些刻意构造的片段进行的，意义不大，低 5% 到 10% 是一个比较普遍的说法。

把虚函数作为 C++ 低效的证据是非常没有道理的。
如果不通过动态绑定机制，直接调用一个栈对象的虚函数的话，编译器会直接处理成普通成员函数调用，调用效率和成员函数完全没有区别。
通过动态绑定机制调用是有效率损失的，但那也说明你在这个地方就是需要动态绑定这个特性，
如果不使用虚函数的话，你就必须自己实现一个函数指针表，自己填表，自己查表，最终效率和虚函数调用还是一样的。
如果由于不了解一个特性而畏惧该特性可能造成的效率损失，说明对这门语言还没有入门。

最后补充一句，提问者在评论中的态度非常差，我很生气。

## ref
https://www.zhihu.com/people/ceiling
https://www.zhihu.com/question/19779887
