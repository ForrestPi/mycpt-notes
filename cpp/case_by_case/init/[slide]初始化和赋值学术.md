### page 1

#### 类型的对象，初始化操作也可能很复杂
- 初始化操作需要把对象设置到合法的初始状态, 保证程序安全
- 在定义/使用对象处反复写细节, 很容易出错(赋值的情况类似)
- 方便使用的抽象很有价值

#### C++语言引入了程序员定义的初始化和赋值的概念.
解决这类问题的一个好的想法, 需要重载功能的支持

#### 初始化和赋值是意义不同的操作
- 在赋值时应认为被赋值的对象已经有值, 因此可能需要对原值做适当的处理
- 而初始化总是对新建的对象进行
- C++特别细致的考虑了初始化和赋值之间的差异, 允许程序员为类的这两种不同的操作定义不同的动作, 很有道理.


---

### page 2

#### 赋值
赋值是常规语言里最重要的基本操作, 但是赋值的意义是什么?

赋值改变变量的值约束. 在 `` x:= ...y...`中
- 左边(一般而言是表达式)指被赋值对象, 通常确定一个位置. 允许放在赋值符左边的表达式称为左值表达式.
- 赋值符右边的表达式表示一个可以赋值的值, 这种值称为右值.

有些表达式同时表示左值和右值, 放在赋值符号左边时取其左值, 放在右边就取其右值.(例如变量名 x,表达式a[i])

在`值语义`(值模型)和引用语义(引用模型)里, 赋值的意义不同.

值语义模型下的`赋值效果`是值的`复制`

---


### page 3
在引用语义下赋值是引用的复制, 结果是值共享.


注意这里有两个现象:
- 变量的值是另外一个对象, 赋值导致不同的变量以同一个对象为值
- 赋值使 x 原来引用的对象(值对象)现在丧失了来自x的引用

在采用引用语义的语言里, 如果变量出现在表达式子里, 在需要引用被引用对象的值时, (编译后的程序)将自动的做间接的操作(dereference)

例: 如果 a 是java的数组变量(a的值是数组), 可以直接写 a[2], 想想a[2]的意思.


----

### page 4

#### 变量的语义模型
不同的语言采用了不同的变量语义模型.

##### C
彻底的值语义, 变量的所有属性都是静态的, 只供编译时候使用.

##### java
1. 基本类型是值语义, 无动态属性信息
2 对象类型变量采用引用语义, 值对象约束了部分属性信息

##### perl
脚本语言.

引用语义, 值对象包含了所有的类型信息.

##### lisp
类似变量的实体成为符号, 属性关联关系见图, 值本身对象有自己的约束.


----


### page 5

#### 引用变量和引用参数

一些语言提供了引用变量: C++
```c++
int n = 1;
int &m = n;
```

许多语言里的函数可以有引用参数. 例如

```c++

int fun(int &n, ...){...}

```

1. 引用变量定义可以看做给一个对象的另一个名字
2. 没有对引用变量本身的操作, 只能通过它去操作被引用的对象.
3. 引用参数(变量参数)就是在函数里为实参简历一个局部的名字, 通过名字可以直接访问实参对象.


---

### page 6
#### 指针变量

指针变量是以变量(对象)标识为值的变量(由于常以变量的内存地址作为标识), 所以常说指针变量以`地址`为值.

引入指针变量, 使地址变成了可以操作的数据.
```c++
int *p =new int(35);

```


---

剩下的略过.
