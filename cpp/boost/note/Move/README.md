Portable move semantics for C++03 and C++11 compilers.

